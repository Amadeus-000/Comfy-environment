{"id":"cd54e41c-8759-4e12-b0a2-6d3ad0313188","revision":0,"last_node_id":14,"last_link_id":19,"nodes":[{"id":7,"type":"SAMLoader","pos":[2182.9311163482007,1612.9602783156633],"size":[270,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device_mode","name":"device_mode","type":"COMBO","widget":{"name":"device_mode"},"link":null}],"outputs":[{"localized_name":"SAM_MODEL","name":"SAM_MODEL","type":"SAM_MODEL","links":[6]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.28.1","Node name for S&R":"SAMLoader","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":6,"type":"UltralyticsDetectorProvider","pos":[2174.0178766543654,1449.0935514835014],"size":[279.0767578125,78],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"BBOX_DETECTOR","name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[5]},{"localized_name":"SEGM_DETECTOR","name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[7]}],"properties":{"cnr_id":"comfyui-impact-subpack","ver":"1.3.5","Node name for S&R":"UltralyticsDetectorProvider","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":8,"type":"CheckpointLoaderSimple","pos":[2204.50203090822,1013.6040449927718],"size":[270,98],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[8]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[9,11,12]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[10]}],"properties":{"cnr_id":"comfy-core","ver":"0.6.0","Node name for S&R":"CheckpointLoaderSimple","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["waiNSFWIllustrious_v110.safetensors"]},{"id":11,"type":"CLIPTextEncode","pos":[1756.3686978037153,1144.5869785591065],"size":[370,160],"flags":{"collapsed":false},"order":4,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":11},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[18]}],"title":"Positive Prompt","properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"CLIPTextEncode","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":10,"type":"CLIPTextEncode","pos":[1754.6689907724653,1360.121036176294],"size":[371.9207458496094,142.02947998046875],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":12},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[19]}],"title":"Negative Prompt","properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"CLIPTextEncode","ue_properties":{"widget_ue_connectable":{"text":true},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":1,"type":"FaceDetailer","pos":[2556.590050880315,739.4547828450627],"size":[400,960],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":17},{"localized_name":"model","name":"model","type":"MODEL","link":8},{"localized_name":"clip","name":"clip","type":"CLIP","link":9},{"localized_name":"vae","name":"vae","type":"VAE","link":10},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":18},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":19},{"localized_name":"bbox_detector","name":"bbox_detector","type":"BBOX_DETECTOR","link":5},{"localized_name":"sam_model_opt","name":"sam_model_opt","shape":7,"type":"SAM_MODEL","link":6},{"localized_name":"segm_detector_opt","name":"segm_detector_opt","shape":7,"type":"SEGM_DETECTOR","link":7},{"localized_name":"detailer_hook","name":"detailer_hook","shape":7,"type":"DETAILER_HOOK","link":null},{"localized_name":"scheduler_func_opt","name":"scheduler_func_opt","shape":7,"type":"SCHEDULER_FUNC","link":null},{"localized_name":"guide_size","name":"guide_size","type":"FLOAT","widget":{"name":"guide_size"},"link":null},{"localized_name":"guide_size_for","name":"guide_size_for","type":"BOOLEAN","widget":{"name":"guide_size_for"},"link":null},{"localized_name":"max_size","name":"max_size","type":"FLOAT","widget":{"name":"max_size"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null},{"localized_name":"feather","name":"feather","type":"INT","widget":{"name":"feather"},"link":null},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null},{"localized_name":"force_inpaint","name":"force_inpaint","type":"BOOLEAN","widget":{"name":"force_inpaint"},"link":null},{"localized_name":"bbox_threshold","name":"bbox_threshold","type":"FLOAT","widget":{"name":"bbox_threshold"},"link":null},{"localized_name":"bbox_dilation","name":"bbox_dilation","type":"INT","widget":{"name":"bbox_dilation"},"link":null},{"localized_name":"bbox_crop_factor","name":"bbox_crop_factor","type":"FLOAT","widget":{"name":"bbox_crop_factor"},"link":null},{"localized_name":"sam_detection_hint","name":"sam_detection_hint","type":"COMBO","widget":{"name":"sam_detection_hint"},"link":null},{"localized_name":"sam_dilation","name":"sam_dilation","type":"INT","widget":{"name":"sam_dilation"},"link":null},{"localized_name":"sam_threshold","name":"sam_threshold","type":"FLOAT","widget":{"name":"sam_threshold"},"link":null},{"localized_name":"sam_bbox_expansion","name":"sam_bbox_expansion","type":"INT","widget":{"name":"sam_bbox_expansion"},"link":null},{"localized_name":"sam_mask_hint_threshold","name":"sam_mask_hint_threshold","type":"FLOAT","widget":{"name":"sam_mask_hint_threshold"},"link":null},{"localized_name":"sam_mask_hint_use_negative","name":"sam_mask_hint_use_negative","type":"COMBO","widget":{"name":"sam_mask_hint_use_negative"},"link":null},{"localized_name":"drop_size","name":"drop_size","type":"INT","widget":{"name":"drop_size"},"link":null},{"localized_name":"wildcard","name":"wildcard","type":"STRING","widget":{"name":"wildcard"},"link":null},{"localized_name":"cycle","name":"cycle","type":"INT","widget":{"name":"cycle"},"link":null},{"localized_name":"inpaint_model","name":"inpaint_model","shape":7,"type":"BOOLEAN","widget":{"name":"inpaint_model"},"link":null},{"localized_name":"noise_mask_feather","name":"noise_mask_feather","shape":7,"type":"INT","widget":{"name":"noise_mask_feather"},"link":null},{"localized_name":"tiled_encode","name":"tiled_encode","shape":7,"type":"BOOLEAN","widget":{"name":"tiled_encode"},"link":null},{"localized_name":"tiled_decode","name":"tiled_decode","shape":7,"type":"BOOLEAN","widget":{"name":"tiled_decode"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[16]},{"localized_name":"cropped_refined","name":"cropped_refined","shape":6,"type":"IMAGE","links":null},{"localized_name":"cropped_enhanced_alpha","name":"cropped_enhanced_alpha","shape":6,"type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"detailer_pipe","name":"detailer_pipe","type":"DETAILER_PIPE","links":null},{"localized_name":"cnet_images","name":"cnet_images","shape":6,"type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.28.1","Node name for S&R":"FaceDetailer","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":[512,true,1024,554912233149457,"randomize",20,8,"dpmpp_3m_sde","karras",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"blue eyes,",1,false,20,false,false]},{"id":13,"type":"SaveImage","pos":[3037.702816061621,736.582198303686],"size":[270,270],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":16},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.6.0","Node name for S&R":"SaveImage","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["ComfyUI"]},{"id":14,"type":"LoadImage","pos":[1767.8252242385242,743.2135283480704],"size":[282.798828125,314],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[17]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.6.0","Node name for S&R":"LoadImage","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{},"version":"7.5.2"}},"widgets_values":["{{kuonji alice}}, _{{{{takeuchi takashi}}}},_tall female, skinny, __dress,_x-ray s-4264427151.png","image"]}],"links":[[5,6,0,1,6,"BBOX_DETECTOR"],[6,7,0,1,7,"SAM_MODEL"],[7,6,1,1,8,"SEGM_DETECTOR"],[8,8,0,1,1,"MODEL"],[9,8,1,1,2,"CLIP"],[10,8,2,1,3,"VAE"],[11,8,1,11,0,"CLIP"],[12,8,1,10,0,"CLIP"],[16,1,0,13,0,"IMAGE"],[17,14,0,1,0,"IMAGE"],[18,11,0,1,4,"CONDITIONING"],[19,10,0,1,5,"CONDITIONING"]],"groups":[{"id":1,"title":"FaceDetailer","bounding":[1744.6689907724653,662.982198303686,1573.0338252891556,1046.4725845413766],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"workflowRendererVersion":"LG","ue_links":[],"ds":{"scale":0.39142513012204394,"offset":[322.5637907296889,13.91642767421024]},"links_added_by_ue":[]},"version":0.4}